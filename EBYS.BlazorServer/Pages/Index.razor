@page "/"
@using System.Security.Claims;
@using EBYS.BusinessLayer.Abstract;
@using EBYS.BusinessLayer.Dtos.Görev;
@attribute [Authorize(Roles = "User,Admin")]
@inject IJSRuntime JS
@inject IGorevService _gorevService
<PageTitle>Ana Sayfa</PageTitle>

@*@if (gorevPieDto!=null)
{*@
<canvas style="max-width:500px;max-height:500px" id="pastaGrafigi"></canvas>
@*}*@


@code {

	//GorevPieDto gorevPieDto;

	protected override void OnInitialized()
	{
		//gorevPieDto = _gorevService.GetGorevPieChart();
	}

	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		if (firstRender)
		{
			await JS.InvokeVoidAsync("DrawPie");

		}
	}

	//private async Task  SetPie()
	//{
	//	await JS.InvokeVoidAsync("DrawPie", "pastaGrafigi", "Görev Grafiği", gorevPieDto.Etiketler, gorevPieDto.Degerler);

	//}
}
